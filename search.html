<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the latest and most popular films at 9TVMovie. Gain exclusive access to our constantly updated collection, enjoy regular releases, and immerse yourself in quality entertainment. Explore the world of movies at your fingertips!">
    <meta name="keywords" content="9tvmovie, 9TVMovie Online, watch Movie & TVShow for Free, Popular Movie">
    <meta name="author" content="9TVMovie">
  <title>Search Movie & TVShow :: 9TVMovie</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <!-- Tambahkan FontAwesome jika belum ada -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="/assets/style.css">
  <!-- <style>
    .py-5-custom {
      padding-top: 5rem;
      padding-bottom: 5rem;
    }
    @media (max-width: 576px) {
      .row>* {
        width: 50%;
      }
    }
    .card-body {
      flex: 1 1 auto;
      padding: 6px;
      color: var(--bs-card-color);
      position: absolute;
      bottom: 0;
      width: 100%;
      color: white;
      background-image: linear-gradient( to top, #000000eb, #000000d6, #000000d6, #000000cf, #000000c7, #000000b8, #000000ab, #0000008c, #0000006b, #0000003b, #0000000f, #00000000 );
    }
    .card-text {
      font-size: 12px;
    }
    .card-title {
      font-size: 16px;
    }
    .rang {
        font-size: 12px;
      color: yellow;
      position: absolute;
      top: 0;
      border: 2px solid yellow;
      margin: 4px;
      padding: 0px 4px;
      border-radius: 5px;
    }
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 999;
    }
    .card:hover .overlay {
      opacity: 1;
    }
    .play-icon {
      color: white;
      font-size: 36px;
    }
    .yearS {
      color: yellowgreen;
    }

    .posterPath {
      height: 246px !important;
    }
  </style> -->
</head>
<body>
    <header class="bg-primary text-white text-center py-1">
        <div class="container">
            <h1>Welcome to 9TVMovie!</h1>
            <p class="lead">Discover the latest and most popular films at 9TVMovie. Gain exclusive access to our constantly updated collection, enjoy regular releases, and immerse yourself in quality entertainment. Explore the world of movies at your fingertips!</p>
        </div>
    </header>
  
    <!-- <label for="searchInput">keywords:</label>
    <input type="text" id="searchInput" placeholder="Search for movies or TV">
    <button onclick="cariFilm()">Cari</button> -->

     <!-- <div class="container mt-5">
        <div class="row d-flex justify-content-center">
          <div class="col-md-8">
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="searchInput" placeholder="search for movies or tv">
              <button class="btn btn-primary" onclick="cariFilm()">Cari</button>
            </div>
          </div>
        </div>
      </div> -->
         
    <nav class="navbar navbar-expand-lg bg-dark text-white padd">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">9TVMovie</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Dropdown
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link disabled" aria-disabled="true">Disabled</a>
              </li>
            </ul>
            <form class="d-flex" role="search">
              <input class="form-control me-2" type="text" id="searchInput" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success" type="button" onclick="cariFilm()">Search</button>
            </form>
          </div>
        </div>
      </nav>

     <main>
      <div class="container mt-5">
    <div class="row" id="results"></div>

    <!-- Pagination -->
    <nav aria-label="Page navigation">
      <ul class="pagination pege" id="pagination"></ul>
    </nav>
  </div>
</main>
  <footer class="bg-dark text-white text-center py-3">
    <div class="container">
        <p>Copyright &copy; 2023 <a href="/">9TVMovie</a>. All Rights Reserved.</p>
    </div>
</footer>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/9tvmovie.js"></script>
  <script>
    let currentPage = 1;

    function cariFilm() {
      const keyword = $('#searchInput').val();
      const apiUrl = `https://api.themoviedb.org/3/search/multi?include_adult=false&language=en-US&page=${currentPage}&api_key=${apiKey}&query=${keyword}`;

      $.ajax({
        url: apiUrl,
        method: 'GET',
        success: function(data) {
          tampilkanHasilPencarian(data.results);
          tampilkanPagination(data.total_pages);
        },
        error: function(error) {
          console.error('Error:', error);
        }
      });
    }

    function tampilkanHasilPencarian(results) {
      const resultsContainer = $('#results');
      resultsContainer.empty();

      if (results.length === 0) {
        resultsContainer.append('<p>Tidak ada hasil ditemukan.</p>');
        return;
      }

      results.forEach(item => {
        const posterPath = item.poster_path ? `https://image.tmdb.org/t/p/w300${item.poster_path}` : 'https://sportxyou.github.io/movie-tv/img/noposter.jpg';
        const title = item.title || item.name;
        const type = item.media_type === 'movie' ? 'Movie' : 'TV';
        const releaseDate = (type === 'Movie' && item.release_date) ? new Date(item.release_date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) :
                           (type === 'TV' && item.first_air_date) ? new Date(item.first_air_date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) :
                           'n/a';
        const mtYear = (type === 'Movie' && item.release_date) ? '(' +  new Date(item.release_date).getFullYear() + ')': (type === 'TV' && item.first_air_date) ? '(' +  new Date(item.first_air_date).getFullYear() + ')' : '';
        const roundedVoteAverage = item.vote_average ? item.vote_average.toFixed(1) : 'n/a';
        const titleOri = item.original_title ? item.original_title: '';

        const resultItem = `
          <div class="col-md-2 mb-4">
            <div class="card position-relative">
              <div class="overlay">
                <a href="/p/img.html?id=${item.id}&type=${type}" target="_blank"><i class="fas fa-play-circle play-icon"></i></a>
              </div>
              <div class="rang"><i class="fa-solid fa-star"></i>
                ${roundedVoteAverage}
              </div>
              <div class="rang-right">${type}</div>
              <img src="${posterPath}" class="card-img-top posterPath" alt="${title} ${titleOri}">
              <div class="card-body">
                <h5 class="card-title">${title}<span class='yearS'>${mtYear}</span></h5>
                <p class="card-text">${releaseDate}</p>
              </div>
            </div>
          </div>
        `;

        resultsContainer.append(resultItem);
      });
    }

    function tampilkanPagination(totalPages) {
      const paginationContainer = $('#pagination');
      paginationContainer.empty();

      if (totalPages > 10) {
        // Tampilkan tombol prev
        const prevItem = `<li class="page-item"><a class="page-link" href="#" onclick="gantiHalaman(${currentPage - 1})">Previous</a></li>`;
        paginationContainer.append(prevItem);
      }

      for (let i = 1; i <= totalPages; i++) {
        // Tampilkan tombol hanya untuk 10 halaman pertama dan halaman aktif
        if (i <= 10 || (i > 10 && i === totalPages) || (i > 10 && i === currentPage) || (i > 10 && i === currentPage - 1) || (i > 10 && i === currentPage + 1)) {
          const pageItem = `<li class="page-item ${currentPage === i ? 'active' : ''}"><a class="page-link" href="#" onclick="gantiHalaman(${i})">${i}</a></li>`;
          paginationContainer.append(pageItem);
        }
      }

      if (totalPages > 10) {
        // Tampilkan tombol next
        const nextItem = `<li class="page-item"><a class="page-link" href="#" onclick="gantiHalaman(${currentPage + 1})">Next</a></li>`;
        paginationContainer.append(nextItem);
      }
    }

    function gantiHalaman(page) {
      currentPage = page;
      cariFilm();
    }
  </script>
</body>
</html>